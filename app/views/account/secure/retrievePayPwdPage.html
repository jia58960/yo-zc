<div class="panel-heading">找回支付密码</div>
<div class="panel-body">
  <form class="form-horizontal secure-forms" name="retrivePayPwdForm" ng-submit="retrievePayPwd(retrivePayPwdForm)" ng-show="!retrieveStatus">
    
    <div class="form-group" ng-class="{'has-error': retrivePayPwdForm.secretOption.$invalid && retrivePayPwdForm.secretOption.$dirty}">
      <label class="col-xs-3 control-label">密保问题：</label>
      <div class="col-xs-9">
        <select class="form-control" name="secretOption"
                ng-options="qes.id as qes.title for qes in qesOpts" ng-required="true" ng-model="secret.question">
          <option value="">请选择</option>
        </select>
      </div>
    </div>

    <div class="form-group" ng-class="{'has-error': retrivePayPwdForm.answer.$invalid && retrivePayPwdForm.answer.$dirty}">
      <label for="answer" class="col-xs-3 control-label">答案：</label>
      <div class="col-xs-9">
        <input type="text" class="form-control" id="answer" placeholder="答案" name="answer" remote-validate="used"
               ng-model="secret.answer" ng-required="true" />
            <span class="help-block alert-danger alert slide-down" ng-show="retrivePayPwdForm.answer.$error.used">
                <b>错误：</b>密保回答错误
              </span>
      </div>
    </div>

    <div class="form-group" ng-class="{'has-error': retrivePayPwdForm.newPassword.$invalid && retrivePayPwdForm.newPassword.$dirty}">
      <label for="newPassword" class="col-xs-3 control-label">新密码：</label>
      <div class="col-xs-9">
        <input type="password" class="form-control" id="newPassword" name="newPassword" placeholder="建议使用字母加数字或符号的组合密码"
               ng-model="secret.newPassword" ng-minlength="6" ng-maxlength="16" ng-required="true">
        <span class="help-block alert-danger alert slide-down"
              ng-show="retrivePayPwdForm.newPassword.$error.minlength || retrivePayPwdForm.newPassword.$error.maxlength">
                支付密码为6-16个字符
        </span>
      </div>
    </div>

    <div class="form-group" ng-class="{'has-error': retrivePayPwdForm.rePassword.$invalid && retrivePayPwdForm.rePassword.$dirty}">
      <label for="rePassword" class="col-xs-3 control-label">确认新密码：</label>
      <div class="col-xs-9">
        <input type="password" class="form-control" id="rePassword" placeholder="确认新支付密码" ng-model="rePassword" name="rePassword" ng-required="true">
        <span class="help-block alert-danger alert slide-down" ng-show="secret.newPassword != rePassword">
              两次输入密码不匹配
        </span>
      </div>
    </div>

    <div class="form-group">
      <div class="col-xs-offset-3 col-xs-9">
        <button type="submit" class="btn btn-primary" ng-disabled="retrivePayPwdForm.$invalid || processing || retrivePayPwdForm.$pristine">确定 <span class="fa fa-repeat fa-spin" ng-show="processing"></span></button>
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-1 col-xs-11">
        <p class="text-success">注：若您无法通过密保问题重置支付密码，您可以通过邮箱将您的信息发送至 zhangjia@sz-kignray.com 申请人工重置支付密码（处理时
          限为1个工作日），请您在邮件中提供：姓名、用户名、身份证正反面照片或影印件（需注明“仅供有利网重置支付密码使用”）。</p>
      </div>
    </div>
  </form>

  <div class="col-xs-10 col-xs-offset-1 margin-top-20" ng-show="retrieveStatus">
    <div class="media">
      <i class="fa fa-check-circle fa-size-md2 text-success pull-left"></i>
      <div class="media-body">
        <h3 class="media-heading text-success">支付密码重置成功！</h3>
        <p>您可以使用该密码进行资金操作</p>
        <p>
          <button ui-sref="site.account.secure" class="btn btn-primary">返回安全中心</a></button>
        </p>
      </div>
    </div>
  </div>

</div>
